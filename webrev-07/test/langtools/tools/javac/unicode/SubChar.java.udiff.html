<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/langtools/tools/javac/unicode/SubChar.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="NonasciiDigit.out.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="SupplementaryJavaID2.out.udiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/tools/javac/unicode/SubChar.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2002, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2002, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -23,26 +23,50 @@</span>
  
  /*
   * @test
   * @bug 4330479
   * @summary ASCII SUB character is rejected in multi-line comments
<span class="udiff-line-modified-removed">-  * @author gafter</span>
<span class="udiff-line-modified-removed">-  *</span>
<span class="udiff-line-modified-removed">-  * @compile SubChar.java</span>
<span class="udiff-line-modified-added">+  * @library /tools/lib</span>
<span class="udiff-line-modified-added">+  * @modules jdk.compiler/com.sun.tools.javac.api</span>
<span class="udiff-line-modified-added">+  *          jdk.compiler/com.sun.tools.javac.main</span>
<span class="udiff-line-added">+  * @build toolbox.ToolBox toolbox.JavacTask</span>
<span class="udiff-line-added">+  * @run main SubChar</span>
   */
  
<span class="udiff-line-added">+ import toolbox.JavacTask;</span>
<span class="udiff-line-added">+ import toolbox.JavaTask;</span>
<span class="udiff-line-added">+ import toolbox.Task;</span>
<span class="udiff-line-added">+ import toolbox.ToolBox;</span>
  
<span class="udiff-line-removed">- /*</span>
<span class="udiff-line-removed">- Note: this source file has been crafted very carefully to end with the</span>
<span class="udiff-line-removed">- unicode escape sequence for the control-Z character without a</span>
<span class="udiff-line-removed">- following newline.  The scanner is specified to allow control-Z there.</span>
<span class="udiff-line-removed">- If you edit this source file, please make sure that your editor does</span>
<span class="udiff-line-removed">- not insert a newline after that trailing line.</span>
<span class="udiff-line-removed">- */</span>
  
<span class="udiff-line-modified-removed">- /** \u001A */</span>
<span class="udiff-line-modified-removed">- class SubChar {</span>
<span class="udiff-line-modified-removed">-     public static void main(String args[]) {</span>
<span class="udiff-line-modified-removed">-         return;</span>
<span class="udiff-line-modified-removed">-     }</span>
<span class="udiff-line-modified-added">+ public class SubChar {</span>
<span class="udiff-line-modified-added">+     private static final ToolBox TOOLBOX = new ToolBox();</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-modified-added">+     private static final String SOURCE = &quot;&quot;&quot;</span>
<span class="udiff-line-modified-added">+         /*</span>
<span class="udiff-line-added">+         Note: this source file has been crafted very carefully to end with the</span>
<span class="udiff-line-added">+         unicode escape sequence for the control-Z character without a</span>
<span class="udiff-line-added">+         following newline.  The scanner is specified to allow control-Z there.</span>
<span class="udiff-line-added">+         If you edit this source file, please make sure that your editor does</span>
<span class="udiff-line-added">+         not insert a newline after that trailing line.</span>
<span class="udiff-line-added">+         */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+         /** \\u001A */</span>
<span class="udiff-line-added">+         class ControlZTest {</span>
<span class="udiff-line-added">+             public static void main(String args[]) {</span>
<span class="udiff-line-added">+                 return;</span>
<span class="udiff-line-added">+             }</span>
<span class="udiff-line-added">+         }</span>
<span class="udiff-line-added">+         /* \\u001A */\</span>
<span class="udiff-line-added">+         &quot;&quot;&quot;;</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+         public static void main(String... args) {</span>
<span class="udiff-line-added">+             String output = new JavacTask(TOOLBOX)</span>
<span class="udiff-line-added">+                     .sources(SOURCE)</span>
<span class="udiff-line-added">+                     .classpath(&quot;.&quot;)</span>
<span class="udiff-line-added">+                     .options(&quot;-encoding&quot;, &quot;utf8&quot;)</span>
<span class="udiff-line-added">+                     .run()</span>
<span class="udiff-line-added">+                     .writeAll()</span>
<span class="udiff-line-added">+                     .getOutput(Task.OutputKind.DIRECT);</span>
<span class="udiff-line-added">+             System.out.println(output);</span>
<span class="udiff-line-added">+         }</span>
  }
<span class="udiff-line-removed">- /* \u001A */</span>
</pre>
<center><a href="NonasciiDigit.out.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="SupplementaryJavaID2.out.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>